<div class="Container">
  <div class="contentHeader">
    <div class="contentHeaderA">
      <button class="btnX">
        <svg
          width="31"
          height="31"
          viewBox="0 0 31 31"
          fill="#040099"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.511 4.04688e-05C23.9839 -0.0193604 30.9788 6.93936 31 15.4087C31.0211 24.0209 24.0906 30.9876 15.4934 30.9973C7.00643 31.007 0.0283051 24.05 8.5698e-05 15.5524C-0.0281337 6.98345 6.91648 0.0203231 15.511 4.04688e-05ZM15.5604 2.82286C8.5435 2.80081 2.84848 8.46144 2.82202 15.4828C2.79557 22.4926 8.47648 28.1542 15.5578 28.1753C22.4327 28.1956 28.1586 22.4891 28.178 15.5983C28.1983 8.54698 22.5659 2.84402 15.5604 2.82286Z"
            fill="#040099"
          />
          <path
            d="M15.5028 13.4898C15.6042 13.3936 15.6924 13.3143 15.7762 13.2305C16.7259 12.2816 17.673 11.331 18.6237 10.3847C19.263 9.74805 20.1246 9.71542 20.7066 10.2992C21.286 10.8812 21.2499 11.741 20.6105 12.3822C19.5849 13.4095 18.5549 14.4325 17.5002 15.4836C17.5919 15.5824 17.6686 15.6706 17.7506 15.7526C18.7304 16.7332 19.7198 17.7041 20.6872 18.6962C21.4897 19.5208 21.114 20.825 20.0117 21.0772C19.4711 21.2007 19.0214 21.0146 18.6369 20.6275C17.6907 19.676 16.7392 18.7289 15.792 17.7782C15.7074 17.6927 15.636 17.5939 15.5363 17.4749C15.4146 17.5895 15.3273 17.6662 15.2444 17.7482C14.2638 18.7271 13.2911 19.7157 12.2999 20.6848C11.493 21.4741 10.217 21.1601 9.92506 20.1063C9.77074 19.5508 9.93035 19.0693 10.3404 18.6627C11.3087 17.7015 12.2708 16.735 13.2355 15.7702C13.3193 15.6865 13.3978 15.5974 13.4931 15.4969C13.3969 15.3955 13.3176 15.3073 13.2347 15.2235C12.2629 14.2508 11.2814 13.2878 10.321 12.3037C9.515 11.4782 9.88273 10.1749 10.9842 9.91913C11.5239 9.79391 11.9763 9.97557 12.3607 10.3627C13.3158 11.3213 14.2735 12.2763 15.2312 13.2323C15.3132 13.3169 15.4023 13.3954 15.5028 13.4898Z"
            fill="#040099"
          />
        </svg>
      </button>
      <!-- Counter -->
      <p>{{ currentCardIndex + 1 }}/{{ cards.length }}</p>
    </div>
    <!-- Componente de la barra (Miestras pondre un div simulando la barra) -->
    <div class="barra">
      <div class="barra-interna" [style.width]="progressWidth"></div>
    </div>
  </div>
  <div class="contentBody">
    <div class="cardWhite">
      <div class="contentCards">
        <!-- Mostrar el frente de la carta al inicio -->
        <div class="cardWhiteA" *ngIf="!showBack">
          <p>{{ currentCard.front }}</p>
        </div>

        <!-- Mostrar la línea y la parte de atrás cuando se haga clic en el botón -->
        <div *ngIf="showBack" class="viewCardBack">
          <div class="cardWhiteA">
            <p>{{ currentCard.front }}</p>
          </div>
          <div class="line"></div>
          <div class="cardWhiteB">
            <p>{{ currentCard.back }}</p>
          </div>
        </div>
      </div>
      <div class="input-container">
        <input
          #textInput
          type="text"
          placeholder="Escribe respuesta..."
          class="keyboard-input"
          (keydown.enter)="showBackOfCard()"
        />
      </div>
    </div>
  </div>

  <div class="contentBottom">
    <ng-container *ngIf="!showOptions">
      <button
        *ngIf="currentCardIndex > 0"
        (click)="goToPreviousCard()"
        class="back"
      >
        <svg
          width="15"
          height="15"
          viewBox="0 0 15 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3.72989 6.04247C4.49104 6.7539 5.21793 7.42691 5.93763 8.10883C6.38868 8.5358 6.41853 9.17096 6.02165 9.60182C5.6231 10.0344 4.98964 10.0583 4.53637 9.64245C3.86753 9.02845 3.20918 8.40164 2.5431 7.78485C1.81622 7.11128 1.08823 6.43882 0.354709 5.77193C-0.128406 5.33272 -0.119009 4.62185 0.388981 4.15982C1.1225 3.49292 1.85768 2.82826 2.59175 2.16193C3.28049 1.5379 3.96481 0.90942 4.65577 0.28929C5.21572 -0.213383 6.04873 -0.0374749 6.33064 0.634982C6.50697 1.05638 6.39974 1.51285 6.03547 1.8463C5.33954 2.48313 4.64029 3.11495 3.9427 3.74955C3.88687 3.80021 3.8327 3.85365 3.73818 3.94383C3.85205 3.94383 3.9228 3.94383 3.99356 3.94383C5.88733 3.94438 7.7811 3.93158 9.67487 3.94995C12.2485 3.97444 14.5425 5.99905 14.9317 8.56307C15.3938 11.6058 13.4696 14.3446 10.462 14.9102C10.1314 14.9726 9.78873 14.9948 9.45155 14.9954C6.67999 15.0021 3.90843 14.9998 1.13687 14.9987C0.540991 14.9987 0.131946 14.682 0.0208399 14.1448C-0.0991099 13.5631 0.330941 12.9752 0.917976 12.9212C1.02798 12.9112 1.13908 12.9118 1.24963 12.9118C3.97974 12.9112 6.70984 12.9173 9.43994 12.909C10.7776 12.9051 11.8174 12.3278 12.4868 11.156C13.7736 8.90264 12.1551 6.05973 9.57371 6.03635C7.67994 6.01909 5.78617 6.03245 3.8924 6.03245C3.85371 6.0319 3.81446 6.03691 3.72989 6.04247Z"
            fill="#0600FF"
          />
        </svg>
      </button>
      <button (click)="showBackOfCard()" class="viewCard">
        Mostrar parte de atrás
      </button>
      <button class="keyboard" (click)="activateKeyboard()">
        <svg
          width="23"
          height="15"
          viewBox="0 0 23 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.365 14.6283C8.44439 14.6283 5.52444 14.6289 2.60381 14.6283C1.0285 14.6283 0.000678428 13.5984 0 12.0217C0 8.88198 0 5.74153 0.000678428 2.60177C0.000678428 1.02782 1.03121 0 2.60855 0C8.45796 0 14.3074 0 20.1568 0C21.7341 0 22.7599 1.02714 22.7599 2.60652C22.7606 5.7802 22.7619 8.95389 22.7592 12.1276C22.7579 13.2979 22.0536 14.2422 20.9546 14.536C20.7049 14.6025 20.437 14.6242 20.1778 14.6249C17.2402 14.631 14.3026 14.6283 11.365 14.6283ZM11.3664 13.0034C14.304 13.0034 17.2422 13.0034 20.1798 13.0034C20.8196 13.0034 21.1344 12.6927 21.1344 12.0577C21.1351 8.90029 21.1351 5.74289 21.1344 2.58549C21.1344 1.92877 20.8291 1.62551 20.1697 1.62551C14.3108 1.62551 8.45185 1.62551 2.59295 1.62551C1.93555 1.62551 1.62619 1.93216 1.62619 2.58277C1.62619 5.73136 1.62619 8.88062 1.62619 12.0292C1.62619 12.7008 1.92945 13.0027 2.60381 13.0027C5.52444 13.0034 8.44507 13.0034 11.3664 13.0034Z"
            fill="#0600FF"
          />
          <path
            d="M11.3822 11.3779C10.3326 11.3779 9.28244 11.3786 8.23291 11.3779C7.69153 11.3772 7.32178 11.0502 7.31839 10.5719C7.31432 10.0903 7.68203 9.75308 8.21867 9.75308C10.3435 9.75172 12.4683 9.75173 14.5932 9.75376C15.0023 9.75444 15.3021 9.97696 15.4127 10.346C15.5118 10.6771 15.391 11.0516 15.0823 11.2293C14.9297 11.3175 14.7343 11.3698 14.5572 11.3718C13.4989 11.384 12.4405 11.3779 11.3822 11.3779Z"
            fill="#0600FF"
          />
          <path
            d="M5.28284 4.87448C5.13901 4.87448 4.9945 4.88059 4.85136 4.8738C4.4097 4.85277 4.06845 4.49999 4.06642 4.06783C4.06438 3.63364 4.40088 3.27204 4.84186 3.2544C5.13765 3.24219 5.4348 3.24219 5.72992 3.2544C6.16818 3.27272 6.5074 3.63907 6.50333 4.07122C6.49926 4.49321 6.16751 4.84599 5.7401 4.87313C5.58813 4.88262 5.4348 4.87448 5.28284 4.87448Z"
            fill="#0600FF"
          />
          <path
            d="M9.35623 4.87452C9.20359 4.87452 9.05094 4.88199 8.89965 4.87317C8.46139 4.84806 8.12421 4.48578 8.12896 4.05295C8.1337 3.62893 8.4641 3.27411 8.89354 3.25444C9.19748 3.24087 9.50345 3.23951 9.80739 3.25512C10.2328 3.27615 10.5645 3.63843 10.5659 4.05973C10.5672 4.48171 10.2389 4.8406 9.81349 4.87181C9.6622 4.88266 9.50888 4.87384 9.35691 4.87384C9.35623 4.87452 9.35623 4.87452 9.35623 4.87452Z"
            fill="#0600FF"
          />
          <path
            d="M13.4037 4.87452C13.251 4.87384 13.0984 4.88334 12.9471 4.87248C12.5217 4.84195 12.1927 4.48374 12.1934 4.06176C12.194 3.63774 12.5217 3.2775 12.9498 3.25579C13.2537 3.24018 13.5597 3.24154 13.8636 3.25511C14.2904 3.2741 14.6248 3.63096 14.6303 4.05226C14.6357 4.4851 14.2992 4.84738 13.8609 4.87316C13.7083 4.88198 13.5556 4.87452 13.4037 4.87452Z"
            fill="#0600FF"
          />
          <path
            d="M17.4688 4.87381C17.3162 4.87381 17.1635 4.88263 17.0122 4.87178C16.5869 4.84193 16.2571 4.48372 16.2578 4.06173C16.2578 3.63772 16.5855 3.27679 17.0129 3.25508C17.325 3.23948 17.6398 3.23812 17.9518 3.25644C18.365 3.28086 18.6886 3.63907 18.694 4.0502C18.7002 4.47218 18.3752 4.8365 17.9512 4.87042C17.7917 4.88331 17.6296 4.87246 17.4688 4.87246C17.4688 4.87381 17.4688 4.87381 17.4688 4.87381Z"
            fill="#0600FF"
          />
          <path
            d="M5.28012 6.50272C5.42394 6.50272 5.56777 6.49729 5.7116 6.5034C6.15393 6.52239 6.49722 6.87246 6.50264 7.30394C6.50807 7.74628 6.16072 8.10991 5.70685 8.12416C5.4192 8.13366 5.13086 8.13502 4.84389 8.12348C4.40359 8.10516 4.06505 7.74356 4.06641 7.3114C4.06777 6.87721 4.4063 6.52511 4.84932 6.50408C4.99179 6.49661 5.13629 6.50272 5.28012 6.50272Z"
            fill="#0600FF"
          />
          <path
            d="M9.34944 6.50343C9.50208 6.50343 9.65473 6.49529 9.80602 6.50479C10.2314 6.5326 10.5638 6.8881 10.5659 7.31008C10.5679 7.73206 10.2402 8.09841 9.81484 8.12148C9.50276 8.13844 9.18797 8.13912 8.87589 8.1208C8.4512 8.09638 8.12487 7.72731 8.12894 7.30533C8.13301 6.88131 8.46341 6.53125 8.89218 6.50479C9.04482 6.49529 9.19747 6.50343 9.34944 6.50343Z"
            fill="#0600FF"
          />
          <path
            d="M13.405 6.5027C13.5577 6.5027 13.7103 6.49524 13.8616 6.50406C14.2883 6.52848 14.6235 6.87991 14.6296 7.30121C14.6357 7.73405 14.2999 8.10244 13.8616 8.12279C13.5658 8.13636 13.2687 8.135 12.9736 8.12347C12.5333 8.10651 12.1934 7.74558 12.1934 7.31343C12.1934 6.87923 12.5312 6.52577 12.9736 6.50338C13.1167 6.4966 13.2612 6.5027 13.405 6.5027Z"
            fill="#0600FF"
          />
          <path
            d="M17.4858 8.12553C17.3332 8.12553 17.1805 8.13299 17.0292 8.12417C16.591 8.09907 16.2531 7.73747 16.2579 7.30463C16.2626 6.88061 16.593 6.52579 17.0218 6.50612C17.3257 6.49187 17.6317 6.49119 17.9356 6.50612C18.361 6.52715 18.6934 6.88875 18.6948 7.31073C18.6968 7.73272 18.3685 8.09161 17.9431 8.12281C17.7918 8.13367 17.6385 8.12485 17.4865 8.12485C17.4858 8.12485 17.4858 8.12553 17.4858 8.12553Z"
            fill="#0600FF"
          />
        </svg>
      </button>
    </ng-container>

    <ng-container *ngIf="showOptions">
      <!-- Contenedor blanco con 4 botones -->
      <div class="optionsContainer">
        <button class="again" (click)="selectOption(againStep)">
          {{ againStep}}
          <p class="grader">8m</p>
        </button>
        <button class="hard" (click)="selectOption(hardStep)">
          {{ hardStep}}
          <p class="grader">8m</p>
        </button>
        <button class="good" (click)="selectOption(goodStep)">
          {{ goodStep}}
          <p class="grader">15m</p>
        </button>
        <button class="easy" (click)="selectOption(easyStep)">
          {{ easyStep}} 
          <p class="grader">4d</p>
        </button>
      </div>
    </ng-container>
  </div>
  <app-loading *ngIf="isLoading"></app-loading>
  <app-modal-error
    [isVisible]="isModalErrorVisible"
    [description]="errorDescription"
    (close)="closeModalError()"
  />
  <!-- cuando vayas a renderizar los 4 botones de colores que son las opciones cuando se estudia una carta, los nombres para cada
  uno de ellos los tienes ya disponibles en el array learningSteps, accedes a ellos recorriendo el array con un ngFor y la propiedad
  se llamada des_learning_step. Sería algo así como *ngFor="let step of learningSteps" y luego en el botón pones {{step.des_learning_step}}
  -->
</div>
