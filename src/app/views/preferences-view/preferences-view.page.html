<ion-content [fullscreen]="true">
  <div class="ContentA">
    <section class="bodyA">
      <article class="top">
        <div class="group">
          <p class="contador">{{step + 1}}/{{titles.length}}</p>
        </div>
      </article>

      <article>
        <div class="bard">
          <div
            class="bard-fill"
            [ngStyle]="{'width': getProgressBardWidth()}"
          ></div>
        </div>
        <app-title-preference [title]="titles[step]" />
      </article>
    </section>
    <div class="descrip">
      <p>{{descriptions[step]}}</p>
    </div>
  </div>

  <div *ngIf="step === 0" class="ContentB">
    <div *ngFor="let item of preferenceOneAndTwo" (click)="selectOne(item)">
      <app-button-preferences-one
        [language]="item.des_language"
        [img]="item.icon"
        [ngClass]="{'animated-item': true}"
      ></app-button-preferences-one>
    </div>
  </div>

  <div *ngIf="step === 1" class="ContentB">
    <div *ngFor="let item of preferenceOneAndTwo" (click)="selectTwo(item)">
      <app-button-preferences-two
        [img]="item.icon"
        [job]="item.des_language"
        [ngClass]="{'animated-item': true}"
      ></app-button-preferences-two>
    </div>
  </div>

  <div *ngIf="step === 2" class="ContentB">
    <div *ngFor="let item of preferenceThree" (click)="selectTwo(item)">
      <app-button-preferences-two
        [img]="item.icon"
        [job]="item.des_reason_to_study"
        [ngClass]="{'animated-item': true}"
      ></app-button-preferences-two>
    </div>
  </div>

  <div *ngIf="step === 3" class="ContentB">
    <div *ngFor="let item of preferenceFour" (click)="selectTwo(item)">
      <app-button-preferences-two
        [img]="item.icon"
        [job]="item.des_language_level"
        [ngClass]="{'animated-item': true}"
      ></app-button-preferences-two>
    </div>
  </div>

  <div *ngIf="step === 4" class="ContentB">
    <div *ngFor="let item of preferenceFive" (click)="toggleSelectThree(item)">
      <app-button-preference-three
        [img]="item.icon"
        [job]="item.des_topic"
        [ngClass]="{'animated-item': true, 'selected': isSelected(item)}"
        [topic]="item"
        (selected)="onTopicSelected(item)"
      ></app-button-preference-three>
    </div>
    <!-- Aquí agregamos el botón dentro del div del paso 4 -->
    <div *ngIf="preferenceTopic.length > 0" class="button-container">
      <button (click)="goToNextView()" class="next-view-button">
        <img src="../../../assets/img/views/back-black.png" alt="">
      </button>
    </div>
  </div>

  <app-loading *ngIf="isLoading"></app-loading>
</ion-content>
